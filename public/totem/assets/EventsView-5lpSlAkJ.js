import{_ as $}from"./logo3-wsGS0ME5.js";import{_ as u,u as C,c as f,o as a,a as o,b as s,r as E,t as _,d as k,p as b,e as w,h as x,f as I,g as P,w as z,n as B,i,F as d,j as m,k as H,l as V}from"./index-KfOQ4uXP.js";const L=t=>(b("data-v-562c88b3"),t=t(),w(),t),N=L(()=>s("div",{class:"logo-wrapper"},[s("img",{src:$,alt:"relive logo"})],-1)),j={key:0,class:"text-capitalize"},T={__name:"Header",setup(t){const e=C(),n=f(()=>e.data?e.data.name.split(" ")[0]:"");return(r,p)=>(a(),o("header",null,[s("nav",null,[N,E(r.$slots,"default",{},void 0,!0),n.value?(a(),o("span",j,"OlÃ¡, "+_(n.value),1)):k("",!0)])]))}},F=u(T,[["__scopeId","data-v-562c88b3"]]),O={class:"event-card-wrapper"},D={class:"title text-capitalize"},J={class:"img-wrapper shadow-lg"},K=["src"],q={__name:"EventCard",props:["imgSrc","title"],setup(t){const e=t;return(n,r)=>(a(),o("div",O,[s("span",D,_(e.title),1),s("div",J,[s("img",{src:e.imgSrc,alt:"event image",lazy:"loading"},null,8,K)])]))}},A=u(q,[["__scopeId","data-v-3a8328ce"]]);function G(t){return x.get(`totem-app/events/get?page=${t}`).then(e=>e.data)}const M=I("events",{state:()=>({currentPage:1,pageCount:null,data:[]}),actions:{async loadEvents(){if(this.notHasPageToLoad)return;const t=await G(this.currentPage++);this.pageCount=t.pageCount,this.data=[...this.data,...t.data]}},getters:{eventsByCategories(){return this.data.reduce((t,e)=>(t[e.category]||(t[e.category]=[]),t[e.category].push(e),t),{})},notHasPageToLoad(){return this.pageCount!==null&&this.currentPage>this.pageCount}}}),l=t=>(b("data-v-18e0afb4"),t=t(),w(),t),Q={class:"wrapper"},R=l(()=>s("h1",{class:"display-2 fw-bolder"},"Eventos",-1)),U=l(()=>s("hr",null,null,-1)),W={class:"events-wrapper"},X={class:"actions-buttons-wrapper"},Y=l(()=>s("i",{class:"bi bi-plus-circle fs-4"},null,-1)),Z=[Y],tt=l(()=>s("i",{class:"bi bi-escape fs-5"},null,-1)),et=[tt],st={class:"container"},at={class:"event-category"},ot={class:"text-capitalize fs-4"},nt={class:"row row-cols-1 row-cols-lg-3 g-3"},rt={__name:"EventsView",setup(t){const e=M(),n=f(()=>Object.keys(e.eventsByCategories));function r(){e.$reset(),H.push({name:"login"})}function p(h){return`http://localhost:8080/uploads/events/${h.background}`}return e.loadEvents(),(h,g)=>(a(),o("div",Q,[s("div",null,[P(F,null,{default:z(()=>[R]),_:1}),U]),s("div",W,[s("div",X,[s("button",{class:B(["btn btn-primary rounded-5",i(e).notHasPageToLoad?"disabled pe-none":""]),onClick:g[0]||(g[0]=(...c)=>i(e).loadEvents&&i(e).loadEvents(...c))},Z,2),s("button",{class:"btn btn-dark rounded-5",onClick:r},et)]),s("div",st,[(a(!0),o(d,null,m(n.value,(c,S)=>(a(),o(d,{key:S},[s("div",at,[s("span",ot,_(c),1)]),s("div",nt,[(a(!0),o(d,null,m(i(e).eventsByCategories[c],(v,y)=>(a(),V(A,{key:y,imgSrc:p(v),title:v.name},null,8,["imgSrc","title"]))),128))])],64))),128))])])]))}},lt=u(rt,[["__scopeId","data-v-18e0afb4"]]);export{lt as default};
